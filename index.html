<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subscription - Rebecca Template</title>
    
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <style>
        @import url('https://v1.fontapi.ir/css/Vazirmatn');
        
        :root {
            --radius: 8px;
        }

        body { 
            font-family: 'Vazirmatn', sans-serif; 
            background-color: #f0f8ff; /* Soft Light Blue Background */
            color: #1e293b; 
        }
		
		.GithubStar-Box {
			margin-left: 5px;
			margin-right: 5px;
		}
        
        .rounded-custom { 
            border-radius: var(--radius); 
        }
        
        .tab-active { 
            border-bottom: 3px solid #2563eb; 
            color: #2563eb; 
            font-weight: 800; 
        }
		
		.marquee-text {
			display: inline-block;
			color: #1d4ed8;
			font-weight: bold;
			font-size: 0.875rem;
			white-space: nowrap;
		}
		
		.scroll-fa {
			padding-right: 100%;
			direction: rtl;
			animation: move-right 20s linear infinite;
		}
		@keyframes move-right {
			0% { transform: translateX(0); }
			100% { transform: translateX(100%); }
		}
		
		.scroll-en {
			padding-left: 100%;
			direction: ltr;
			animation: move-left 20s linear infinite;
		}
		@keyframes move-left {
			0% { transform: translateX(0); }
			100% { transform: translateX(-100%); }
		}

		.marquee-container {
			width: 100%;
			overflow: hidden;
			white-space: nowrap;
			position: relative;
			background-color: #eff6ff;
			border-bottom: 1px solid #bfdbfe;
			padding: 8px 0;
			display: none;
		}
		
		.marquee-container:hover .marquee-text {
			animation-play-state: paused;
		}
		
        .tab-inactive { 
            color: #64748b; 
            font-weight: 500;
        }

        /* Smooth scrollbar styling */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: var(--radius); }
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen flex items-center justify-center">

    <!-- Main Container -->
    <div class="max-w-4xl w-full bg-white rounded-custom shadow-lg overflow-hidden border border-blue-100">

        <!-- Top Header & Language Toggle -->
        <div class="flex justify-end p-4 bg-blue-50/50 border-b border-blue-50">
			<button onclick="toggleLanguage()" id="langBtn" class="bg-white border border-blue-200 hover:bg-blue-100 text-blue-800 px-4 py-1.5 rounded-custom transition text-sm font-bold shadow-sm">
				English
			</button>
			
			
			<a href="https://github.com/im-JvD/Rebecca-Template" target="_blank" class="flex items-center gap-1.5 GithubStar-Box bg-white text-gray-700 px-3 py-1.5 rounded-custom shadow-sm border border-gray-200 hover:bg-gray-50 transition text-sm font-bold" title="GitHub Repository">
				<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="text-yellow-500" viewBox="0 0 16 16">
				  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
				</svg>
				<span id="repo-stars-count">...</span>
			</a>
			
			
			<div id="header-banner" class="marquee-container z-50 rounded-b-lg shadow-sm">
				<div id="header-text" class="marquee-text scroll-fa" dir="rtl">
				</div>
			</div>
			
        </div>

        <!-- User Info Section -->
        <div class="grid grid-cols-1 md:grid-cols-12 gap-6 p-6 border-b border-gray-100 bg-white">
            
            <!-- Right Column -> Centered Profile Info -->
            <div class="md:col-span-4 flex flex-col justify-center items-center text-center p-6 bg-blue-50/60 rounded-custom shadow-sm border border-blue-100 h-full">
                <img src="https://raw.githubusercontent.com/im-JvD/Rebecca-Template/refs/heads/main/Photos/Rebecca.png" alt="Logo" class="w-28 h-28 mb-5 drop-shadow-md">
                
                <div class="text-gray-500 text-sm mb-1 font-semibold" data-translate="sub_username">Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ø´ØªØ±Ø§Ú©</div>
                <h2 class="text-2xl text-blue-700 font-extrabold mb-4">Rebecca Template</h2>
                
                <!-- Status Badge -->
                <span class="bg-blue-600 text-white px-5 py-1.5 rounded-custom text-sm font-bold shadow-sm w-full" data-translate="status_active">ÙØ¹Ø§Ù„</span>
            </div>

            <!-- Left Column -> 4 Stats Boxes -->
            <div class="md:col-span-8 grid grid-cols-2 gap-4">
                
                <!-- 1. Remaining Data -->
                <div class="bg-white border border-blue-100 p-4 rounded-custom shadow-sm flex flex-col justify-center items-center text-center hover:shadow-md transition">
                    <span class="text-sm text-gray-500 mb-2 font-medium" data-translate="remaining_data">Ø­Ø¬Ù… Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡</span>
                    <div class="font-extrabold text-xl text-blue-600" dir="ltr">
                        13.4 GB
                    </div>
                </div>

                <!-- 2. Remaining Days -->
                <div class="bg-white border border-blue-100 p-4 rounded-custom shadow-sm flex flex-col justify-center items-center text-center hover:shadow-md transition">
                    <span class="text-sm text-gray-500 mb-2 font-medium" data-translate="remaining_days">Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡</span>
                    <div class="font-extrabold text-xl text-blue-600">
                        Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯
                    </div>
                </div>

                <!-- 3. Used Traffic -->
                <div class="bg-white border border-blue-100 p-4 rounded-custom shadow-sm flex flex-col justify-center items-center text-center hover:shadow-md transition">
                    <span class="text-sm text-gray-500 mb-2 font-medium" data-translate="used_traffic">ØªØ±Ø§ÙÛŒÚ© Ù…ØµØ±ÙÛŒ</span>
                    <div class="font-extrabold text-xl text-blue-600" dir="ltr">26.6 GB</div>
                </div>

                <!-- 4. Expiration Date -->
                <div class="bg-white border border-blue-100 p-4 rounded-custom shadow-sm flex flex-col justify-center items-center text-center hover:shadow-md transition">
                    <span class="text-sm text-gray-500 mb-2 font-medium" data-translate="expire_date">ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§</span>
                    <div class="font-extrabold text-base md:text-lg text-blue-600" id="expire-date-display">
                        Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯
                    </div>
                </div>

            </div>
        </div>

        <!-- Tabs Navigation -->
        <div class="flex border-b border-gray-200 px-6 pt-2 bg-white">
            <button onclick="switchTab('tab-links')" id="btn-tab-links" class="pb-3 px-6 tab-active transition mr-4" data-translate="tab_links">Ù„ÛŒÙ†Ú© Ùˆ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§</button>
            <button onclick="switchTab('tab-apps')" id="btn-tab-apps" class="pb-3 px-6 tab-inactive transition hover:text-blue-500" data-translate="tab_apps">Ø¢Ù…ÙˆØ²Ø´ Ùˆ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§</button>
        </div>

        <!-- Tabs Content -->
        <div class="p-6 bg-slate-50/50">
            
            <!-- Tab 1: Links & Configs -->
            <div id="tab-links" class="block">
                
                <!-- Sub Link & QR -->
                <div class="bg-white p-5 rounded-custom border border-blue-200 shadow-sm mb-6 flex flex-col md:flex-row items-center justify-between gap-6">
                    <div class="flex-1 text-center md:text-right w-full">
                        <h3 class="font-bold text-gray-800 mb-3 text-lg" data-translate="sub_link_title">Ù„ÛŒÙ†Ú© Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† Ø´Ù…Ø§</h3>
                        <p class="text-sm text-gray-500 mb-4" data-translate="sub_link_desc">Ø§Ø² Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ø¨Ø±Ø§ÛŒ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† ØªÙ…Ø§Ù…ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª ÛŒÚ©Ø¬Ø§ Ø¯Ø± Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.</p>
                        <button onclick="copySubLink()" class="w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-8 py-2.5 rounded-custom transition shadow-md font-bold text-sm">
                            <span data-translate="copy_sub_link">Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† Ù„ÛŒÙ†Ú©</span>
                        </button>
                    </div>
                    <div class="bg-blue-50 p-3 rounded-custom shadow-inner border border-blue-100">
                        <div id="qrcode"></div>
                    </div>
                </div>

                <!-- Configs List -->
                <h3 class="font-bold text-gray-800 mb-4 px-1" data-translate="configs_title">Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§</h3>
                <div class="space-y-3">
                    
                    <!-- Entire div is clickable to copy link -->
                    <div onclick="copyText('{{ link }}')" title="Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ / Click to copy" class="bg-white border border-gray-200 p-4 rounded-custom shadow-sm hover:shadow-md hover:border-blue-400 hover:bg-blue-50 transition cursor-pointer flex justify-between items-center group">
                        <div class="flex items-center gap-4 w-full">
                            <div class="bg-blue-100 text-blue-600 p-2.5 rounded-custom group-hover:bg-blue-600 group-hover:text-white transition shadow-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                            </div>
                            <span class="config-name font-bold text-gray-700 break-all group-hover:text-blue-700 transition" data-link="{{ link }}" dir="ltr">ğŸ‡¹ğŸ‡· Rebecca Template - [1]</span>
                        </div>
                    </div>
                    <div onclick="copyText('{{ link }}')" title="Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ / Click to copy" class="bg-white border border-gray-200 p-4 rounded-custom shadow-sm hover:shadow-md hover:border-blue-400 hover:bg-blue-50 transition cursor-pointer flex justify-between items-center group">
                        <div class="flex items-center gap-4 w-full">
                            <div class="bg-blue-100 text-blue-600 p-2.5 rounded-custom group-hover:bg-blue-600 group-hover:text-white transition shadow-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                            </div>
                            <span class="config-name font-bold text-gray-700 break-all group-hover:text-blue-700 transition" data-link="{{ link }}" dir="ltr">ğŸ‡³ğŸ‡± Rebecca Template - [2]</span>
                        </div>
                    </div>
                    <div onclick="copyText('{{ link }}')" title="Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ / Click to copy" class="bg-white border border-gray-200 p-4 rounded-custom shadow-sm hover:shadow-md hover:border-blue-400 hover:bg-blue-50 transition cursor-pointer flex justify-between items-center group">
                        <div class="flex items-center gap-4 w-full">
                            <div class="bg-blue-100 text-blue-600 p-2.5 rounded-custom group-hover:bg-blue-600 group-hover:text-white transition shadow-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                            </div>
                            <span class="config-name font-bold text-gray-700 break-all group-hover:text-blue-700 transition" data-link="{{ link }}" dir="ltr">ğŸ‡©ğŸ‡ª Rebecca Template - [3]</span>
                        </div>
                    </div>
                    <div onclick="copyText('{{ link }}')" title="Ø¨Ø±Ø§ÛŒ Ú©Ù¾ÛŒ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ / Click to copy" class="bg-white border border-gray-200 p-4 rounded-custom shadow-sm hover:shadow-md hover:border-blue-400 hover:bg-blue-50 transition cursor-pointer flex justify-between items-center group">
                        <div class="flex items-center gap-4 w-full">
                            <div class="bg-blue-100 text-blue-600 p-2.5 rounded-custom group-hover:bg-blue-600 group-hover:text-white transition shadow-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                            </div>
                            <span class="config-name font-bold text-gray-700 break-all group-hover:text-blue-700 transition" data-link="{{ link }}" dir="ltr">ğŸ‡¦ğŸ‡º Rebecca Template - [4]</span>
                        </div>
                    </div>
                    
                </div>
            </div>

            <!-- Tab 2: Apps & Tutorials -->
            <div id="tab-apps" class="hidden">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
                    
                    <!-- Android App Card -->
                    <div class="bg-white border border-gray-200 p-5 rounded-custom shadow-sm hover:shadow-md transition">
                        <div class="flex items-center gap-3 mb-5">
                            <img src="https://cdn-icons-png.flaticon.com/512/174/174836.png" class="w-8 h-8" alt="Android">
                            <h3 class="font-extrabold text-gray-800">v2rayNG - [ Android ]</h3>
                        </div>
                        <!-- Download & Import Row -->
                        <div class="grid grid-cols-2 gap-3 mb-3">
							<a href="https://github.com/2dust/v2rayNG/releases" id="v2rayng-dl-btn" target="_blank" class="bg-blue-600 text-white text-center py-2.5 rounded-custom hover:bg-blue-700 transition text-sm font-bold shadow-sm" data-translate="btn_download">Ø¯Ø§Ù†Ù„ÙˆØ¯</a>
                            <button onclick="importToApp('v2rayng://install-sub?url=')" class="bg-blue-100 text-blue-700 border border-blue-200 text-center py-2.5 rounded-custom hover:bg-blue-200 transition text-sm font-bold shadow-sm" data-translate="btn_import">ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù†</button>
                        </div>
                        <!-- Video Tutorial Button -->
                        <a href="#" onclick="showToast('Ù„ÛŒÙ†Ú© Ø¢Ù…ÙˆØ²Ø´ Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯', 'Tutorial link coming soon')" class="block w-full bg-gray-50 border border-gray-200 text-gray-700 text-center py-2.5 rounded-custom hover:bg-gray-100 transition text-sm font-bold mt-2" data-translate="btn_tutorial">Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆÛŒØ¯Ø¦Ùˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ</a>
                    </div>

                    <!-- iOS App Card -->
                    <div class="bg-white border border-gray-200 p-5 rounded-custom shadow-sm hover:shadow-md transition">
                        <div class="flex items-center gap-3 mb-5">
                            <img src="https://cdn-icons-png.flaticon.com/512/0/747.png" class="w-8 h-8" alt="iOS">
                            <h3 class="font-extrabold text-gray-800">StrieSand - [ iOS ]</h3>
                        </div>
                        <div class="grid grid-cols-2 gap-3 mb-3">
                            <a href="https://apps.apple.com/us/app/streisand/id6450534064" target="_blank" class="bg-blue-600 text-white text-center py-2.5 rounded-custom hover:bg-blue-700 transition text-sm font-bold shadow-sm" data-translate="btn_download">Ø¯Ø§Ù†Ù„ÙˆØ¯</a>
                            <button onclick="importToApp('streisand://import/?url=')" class="bg-blue-100 text-blue-700 border border-blue-200 text-center py-2.5 rounded-custom hover:bg-blue-200 transition text-sm font-bold shadow-sm" data-translate="btn_import">ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù†</button>
                        </div>
                        <a href="#" onclick="showToast('Ù„ÛŒÙ†Ú© Ø¢Ù…ÙˆØ²Ø´ Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯', 'Tutorial link coming soon')" class="block w-full bg-gray-50 border border-gray-200 text-gray-700 text-center py-2.5 rounded-custom hover:bg-gray-100 transition text-sm font-bold mt-2" data-translate="btn_tutorial">Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆÛŒØ¯Ø¦Ùˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ</a>
                    </div>

                    <!-- Windows App Card -->
                    <div class="bg-white border border-gray-200 p-5 rounded-custom shadow-sm hover:shadow-md transition">
                        <div class="flex items-center gap-3 mb-5">
                            <img src="https://cdn-icons-png.flaticon.com/512/732/732221.png" class="w-8 h-8" alt="Windows">
                            <h3 class="font-extrabold text-gray-800">v2rayN - [ Windows ]</h3>
                        </div>
                        <div class="grid grid-cols-2 gap-3 mb-3">
                            <a href="https://github.com/2dust/v2rayN/releases" id="v2rayn-dl-btn" target="_blank" class="bg-blue-600 text-white text-center py-2.5 rounded-custom hover:bg-blue-700 transition text-sm font-bold shadow-sm" data-translate="btn_download">Ø¯Ø§Ù†Ù„ÙˆØ¯</a>
                            <button onclick="copySubLink()" class="bg-blue-100 text-blue-700 border border-blue-200 text-center py-2.5 rounded-custom hover:bg-blue-200 transition text-sm font-bold shadow-sm" data-translate="copy_sub_link">Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú©</button>
                        </div>
                        <a href="#" onclick="showToast('Ù„ÛŒÙ†Ú© Ø¢Ù…ÙˆØ²Ø´ Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯', 'Tutorial link coming soon')" class="block w-full bg-gray-50 border border-gray-200 text-gray-700 text-center py-2.5 rounded-custom hover:bg-gray-100 transition text-sm font-bold mt-2" data-translate="btn_tutorial">Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆÛŒØ¯Ø¦Ùˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ</a>
                    </div>

                </div>
            </div>
            
        </div>
        
        <!-- Footer Spacer -->
        <div class="bg-blue-50 py-3 text-center border-t border-blue-100 text-xs text-blue-400 font-medium">
            <a href="https://github.com/rebeccapanel/Rebecca"><b>Rebecca</b></a> Subscription template <br>Created by = <a href="https://github.com/im-JvD/Rebecca-Template"><b>[ im-JvD ]</b></a>
        </div>
        
        <!-- Toast Notification -->
        <div id="toast" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-custom shadow-xl font-bold opacity-0 pointer-events-none transition-opacity duration-300 z-50"></div>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // Translations Dictionary
        const translations = {
            fa: {
                sub_username: "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ø´ØªØ±Ø§Ú©",
                remaining_data: "Ø­Ø¬Ù… Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡",
                remaining_days: "Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡",
                used_traffic: "ØªØ±Ø§ÙÛŒÚ© Ù…ØµØ±ÙÛŒ",
                expire_date: "ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§",
                unlimited: "Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯",
                not_started: "(Ø´Ø±ÙˆØ¹ Ù†Ø´Ø¯Ù‡)",
                days: "Ø±ÙˆØ²",
                status_active: "ÙØ¹Ø§Ù„",
                status_on_hold: "Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±",
                status_disabled: "ØºÛŒØ±ÙØ¹Ø§Ù„",
                tab_links: "Ù„ÛŒÙ†Ú© Ùˆ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§",
                tab_apps: "Ø¢Ù…ÙˆØ²Ø´ Ùˆ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§",
                sub_link_title: "Ù„ÛŒÙ†Ú© Ø³Ø§Ø¨Ø³Ú©Ø±ÛŒÙ¾Ø´Ù† Ø´Ù…Ø§",
                sub_link_desc: "Ø§Ø² Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ø¨Ø±Ø§ÛŒ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† ØªÙ…Ø§Ù…ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª ÛŒÚ©Ø¬Ø§ Ø¯Ø± Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.",
                copy_sub_link: "Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† Ù„ÛŒÙ†Ú©",
                configs_title: "Ú©Ø§Ù†ÙÛŒÚ¯â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§",
                inactive_account_msg: "Ø§Ú©Ø§Ù†Øª Ø´Ù…Ø§ ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª. Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.",
                btn_download: "Ø¯Ø§Ù†Ù„ÙˆØ¯",
                btn_import: "ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù†",
                btn_tutorial: "Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆÛŒØ¯Ø¦Ùˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ",
                toast_copied: "Ú©Ù¾ÛŒ Ø´Ø¯!"
            },
            en: {
                sub_username: "Username",
                remaining_data: "Remaining Data",
                remaining_days: "Remaining Days",
                used_traffic: "Used Traffic",
                expire_date: "Expiration Date",
                unlimited: "Unlimited",
                not_started: "(Not Started)",
                days: "Days",
                status_active: "Active",
                status_on_hold: "On Hold",
                status_disabled: "Disabled",
                tab_links: "Link & Configs",
                tab_apps: "Tutorials & Downloads",
                sub_link_title: "Your Subscription Link",
                sub_link_desc: "Use this link to import all configurations at once into your app.",
                copy_sub_link: "Copy Link",
                configs_title: "Individual Configs",
                inactive_account_msg: "Your account is not active. Links are not displayed.",
                btn_download: "Download",
                btn_import: "Import",
                btn_tutorial: "Watch Tutorial",
                toast_copied: "Copied!"
            }
        };

        let currentLang = 'fa';

        // Initialize Everything
        window.onload = function() {
			
			fetchLatestV2rayN();
			fetchLatestV2rayNG();
			updateDateDisplay();
			fetchGitHubStars();
			updateDateDisplay();
			fetchAnnouncement();
			updateDateDisplay();
			
            // Process Config Names Safely (Supports Emojis and Special Characters)
            document.querySelectorAll('.config-name').forEach(el => {
                let fullLink = el.getAttribute('data-link');
                try {
                    let parts = fullLink.split('#');
                    if(parts.length > 1) {
                        el.innerText = decodeURIComponent(parts[1]);
                    }
                } catch(e) {
                    console.error("Error decoding config name:", e);
                }
            });

            // Generate QR Code
            let qrContainer = document.getElementById("qrcode");
            if(qrContainer) {
                new QRCode(qrContainer, {
                    text: window.location.href,
                    width: 110,
                    height: 110,
                    colorDark : "#1e3a8a",
                    colorLight : "#eff6ff",
                    correctLevel : QRCode.CorrectLevel.M
                });
            }

            // Parse Date Initially
            updateDateDisplay();
        };

        // Date Parser & Formatter
        function updateDateDisplay() {
            const dateElement = document.getElementById('jalali-date');
            if (dateElement) {
                const timestamp = parseInt(dateElement.getAttribute('data-timestamp'));
                if (!isNaN(timestamp)) {
                    const date = new Date(timestamp * 1000);
                    const locale = currentLang === 'fa' ? 'fa-IR' : 'en-US';
                    dateElement.innerText = new Intl.DateTimeFormat(locale, {
                        year: 'numeric', month: 'long', day: 'numeric'
                    }).format(date);
                }
            }
        }

        // Language Toggle
        function toggleLanguage() {
            currentLang = currentLang === 'fa' ? 'en' : 'fa';
            
            // Switch Text/Direction
            document.documentElement.lang = currentLang;
            document.documentElement.dir = currentLang === 'fa' ? 'rtl' : 'ltr';
            document.getElementById('langBtn').innerText = currentLang === 'fa' ? 'English' : 'ÙØ§Ø±Ø³ÛŒ';

            // Apply Translations
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.getAttribute('data-translate');
                if (translations[currentLang][key]) {
                    el.innerText = translations[currentLang][key];
                }
            });

            // Update Jalali/Gregorian Date
            updateDateDisplay();
        }

        // Tab Switcher
        function switchTab(tabId) {
            document.getElementById('tab-links').classList.add('hidden');
            document.getElementById('tab-apps').classList.add('hidden');
            
            document.getElementById('btn-tab-links').className = "pb-3 px-6 tab-inactive transition hover:text-blue-500 mr-4";
            document.getElementById('btn-tab-apps').className = "pb-3 px-6 tab-inactive transition hover:text-blue-500";
            
            document.getElementById(tabId).classList.remove('hidden');
            document.getElementById('btn-' + tabId).className = "pb-3 px-6 tab-active transition " + (tabId === 'tab-links' ? 'mr-4' : '');
        }

        // Copy Functions
        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast(translations[currentLang].toast_copied);
            }).catch(err => {
                console.error('Could not copy text: ', err);
            });
        }

        function copySubLink() {
            copyText(window.location.href);
        }

        // Import Link Generator
        function importToApp(scheme) {
            const subLink = window.location.href;
            window.location.href = scheme + encodeURIComponent(subLink);
        }
		
		// Search latest version v2rayNG on github
		function fetchLatestV2rayNG() {
			const dlButton = document.getElementById("v2rayng-dl-btn");
			if (!dlButton) return;

			fetch("https://api.github.com/repos/2dust/v2rayNG/releases/latest")
				.then(response => response.json())
				.then(data => {
					if (data && data.assets) {
						const matchedAsset = data.assets.find(asset => asset.name.endsWith("_universal.apk"));
						
						if (matchedAsset && matchedAsset.browser_download_url) {
							dlButton.href = matchedAsset.browser_download_url;
						}
					}
				})
				.catch(err => {
					console.error("Failed to fetch latest v2rayNG release:", err);
				});
		}

		// Search latest version v2rayN on github
		function fetchLatestV2rayN() {
			const dlButton = document.getElementById("v2rayn-dl-btn");
			if (!dlButton) return;

			let arch = "64";
			const ua = navigator.userAgent.toLowerCase();
			
			if (ua.includes("arm")) {
				arch = "arm64";
			} else if (ua.includes("win32") || (ua.includes("windows") && !ua.includes("win64") && !ua.includes("wow64"))) {
				arch = "32";
			}

			fetch("https://api.github.com/repos/2dust/v2rayN/releases/latest")
				.then(response => response.json())
				.then(data => {
					if (data && data.assets) {
						const targetName = `v2rayN-windows-${arch}.zip`;
						let matchedAsset = data.assets.find(asset => asset.name === targetName);
						
						if (!matchedAsset) {
							matchedAsset = data.assets.find(asset => asset.name === "v2rayN-windows-64.zip");
						}

						if (matchedAsset && matchedAsset.browser_download_url) {
							dlButton.href = matchedAsset.browser_download_url;
						}
					}
				})
				.catch(err => {
					console.error("Failed to fetch latest v2rayN release:", err);
				});
		}
		
		// Start on Repo Github
		function fetchGitHubStars() {
			const starsCountSpan = document.getElementById("repo-stars-count");
			if (!starsCountSpan) return;

			fetch("https://api.github.com/repos/im-JvD/Rebecca-Template")
				.then(response => response.json())
				.then(data => {
					if (data && data.stargazers_count !== undefined) {
						starsCountSpan.innerText = data.stargazers_count;
					} else {
						starsCountSpan.innerText = "-";
					}
				})
				.catch(err => {
					console.error("Failed to fetch GitHub stars:", err);
					starsCountSpan.innerText = "â­"; 
				});
		}
		
		// Subscription update announcement
		function fetchAnnouncement() {
			const banner = document.getElementById("header-banner");
			const textElement = document.getElementById("header-text");
			if (!banner || !textElement) return;

			const rawUrl = "https://raw.githubusercontent.com/im-JvD/Rebecca-Template/main/header.txt?t=" + new Date().getTime();

			fetch(rawUrl)
				.then(response => {
					if (!response.ok) throw new Error("Network response was not ok");
					return response.text();
				})
				.then(text => {
					const cleanText = text.trim();
					
					if (cleanText.length > 0) {
						textElement.innerText = cleanText;
						banner.style.display = "block";
					} else {
						banner.style.display = "none";
					}
				})
				.catch(err => {
					console.error("Failed to fetch announcement:", err);
					banner.style.display = "none";
				});
		}
		
        // Toast Message System
        let toastTimeout;
        function showToast(msgFa, msgEn) {
            const toast = document.getElementById('toast');
            toast.innerText = msgEn ? (currentLang === 'fa' ? msgFa : msgEn) : msgFa;
            toast.style.opacity = '1';
            
            clearTimeout(toastTimeout);
            toastTimeout = setTimeout(() => {
                toast.style.opacity = '0';
            }, 2500);
		
			
			const bannerText = document.getElementById("header-text");
			if (bannerText) {
				const langBtn = document.getElementById("lang-btn");
				if (langBtn && langBtn.innerText.trim() === "ÙØ§Ø±Ø³ÛŒ") {
					bannerText.className = "marquee-text scroll-en";
				} else {
					bannerText.className = "marquee-text scroll-fa";
				}
			}
        }
    </script>
</body>
</html>
